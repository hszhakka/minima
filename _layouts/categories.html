---
layout: page
---

{{ content }}

{%- assign max_count = 0 -%}
{%- for category in site.categories -%}
  {%- assign posts = category[1] -%}
  {%- if posts.size > max_count -%}
    {%- assign max_count = posts.size -%}
  {%- endif -%}
{%- endfor -%}

<div class="site-categories-wrapper">
  <ul class="category-list">
    {%- for i in (1..max_count) reversed -%}
      {%- for category in site.categories -%}
        {%- assign category_name = category[0] -%}
        {%- assign posts = category[1] -%}
        {%- if posts.size == i -%}
          <li>
            {%- capture category_url -%}{{ site.minima.categories_url }}#{{ category_name | slugify }}{%- endcapture -%}
            <a class="category" href="{{ category_url | relative_url }}">{{ category_name }}</a> <small>{{ posts.size }}</small>
          </li>
        {%- endif -%}
      {%- endfor -%}
    {%- endfor -%}
  </ul>
</div>

{%- for i in (1..max_count) reversed -%}
  {%- for category in site.categories -%}
    {%- assign category_name = category[0] -%}
    {%- assign posts = category[1] -%}
    {%- if posts.size == i -%}
      <h3 id="{{ category_name | slugify }}">{{ category_name }}</h3>
      <ul class="post-list-by-category">
        {%- for post in posts -%}
          <li>
            <time datetime="{{ page.date | date_to_xmlschema }}">{{ post.date | date: "%Y-%m-%d" }}</time> &raquo; <a href="{{ post.url }}">{{ post.title | escape | markdownify | remove: "<p>" | remove: "</p>" }}</a>
          </li>
        {%- endfor -%}
      </ul>
    {%- endif -%}
  {%- endfor -%}
{%- endfor -%}
